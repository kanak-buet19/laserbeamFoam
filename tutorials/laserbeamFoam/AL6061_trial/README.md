
# laserBeamFoam-based LPBF Simulation

This tutorial (`LPBF_small/`) demonstrates the use of `laserBeamFoam` for
simulating a Laser Powder Bed Fusion (LPBF) process. It replicates the setup
presented by Parivendhan et al. (2023) [1].

---

## üìö Overview of LPBF

Laser Powder Bed Fusion (LPBF) is an additive manufacturing process in which a
laser selectively melts and fuses metal powder in a layer-by-layer manner.
Compared to conventional manufacturing techniques, LPBF offers advantages
such as rapid prototyping, the production of geometrically complex components,
and reduced lead times. However, the melt pool dynamics occur over extremely
short temporal and spatial scales, making experimental observation difficult.
Validated numerical models provide a means to analyse these phenomena and aid
in the development of process‚Äìstructure‚Äìproperty relationships for consistent,
high-quality manufacturing.

---

## üß© Modelling Approach

This tutorial case models the LPBF process using a two-stage approach:

1. **Particle Deposition** ‚Äì Simulated using the Discrete Element Method (DEM)
to capture particle interactions.
2. **Laser-Induced Melting** ‚Äì Simulated using `laserBeamFoam` to model
melting, flow, and solidification of metal particles under laser irradiation.

A one-way coupled CFD‚ÄìDEM framework is employed, in which `laserBeamFoam` uses
the powder bed morphology generated by the DEM simulation. Particle
entrainment by the vapour plume is not considered. The simulation is set up
for stainless steel **SS316L** powder.

---

## üîπ Powder Deposition Using DEM

The powder deposition process in LPBF involves random and stochastic particle
packing. To represent the powder bed accurately, it is modelled as a
collection of discrete particles rather than a continuous medium. Particle
motion due to interactions with the recoating mechanism and neighbouring
particles is resolved using **LIGGGHTS¬Æ** [2], an open-source Discrete Element
Method solver.

In this tutorial, a rain deposition method is used to generate the powder bed.
Particles are introduced at the top of a domain with rigid boundaries and
allowed to settle under gravity onto the build plate. A monodisperse particle
size distribution is used, selected to reflect the experimentally measured
distribution for SS316L powder.

The particle size distribution is shown below [1]:

![Particle Size Distribution](media/PSD.PNG)

The contact model properties used in the coating simulation are provided in
the table below [1]:

![Contact Model Parameters](media/ContactParameters.PNG)

---

## üß± Powder Bed Generation with LIGGGHTS¬Æ

The powder bed used in this tutorial has already been generated
using **LIGGGHTS¬Æ**. Therefore, **it is not necessary to regenerate it to
run the case as provided**.

However, for users interested in reproducing or modifying the powder
deposition process, the necessary input files and scripts are included in the
`DEM_small/` directory.

We provide here a brief overview to help users get started, but **this is not
a complete installation or usage guide**. For full instructions and advanced
configuration options, please refer to the official LIGGGHTS¬Æ documentation:

[LIGGGHTS¬Æ Manual and Installation Guide](https://www.cfdem.com/media/DEM/docu/Manual.html)

### üîß Installing LIGGGHTS¬Æ (Basic Setup)

See the instructions given in the main [`README.md`](../../../README.md) file.

---

### ‚ñ∂Ô∏è Running the DEM Simulation (Optional)

The characteristics of the particles in the powder bed are defined in the file:

```bash
DEM_small/input.liggghts
```

To generate the powder bed, run the following script:

```bash
cd DEM_small
./Allrun
```

This will execute the DEM simulation using LIGGGHTS¬Æ and produce the file:

```bash
DEM_small/post/location
```

This file contains the particle positions and must be copied to the `constant/`
directory of the OpenFOAM case before running `laserBeamFoam`:

```bash
cp DEM_small/post/location LPBF_small/constant/
```

---

### ‚ñ∂Ô∏è Running the LPBF Simulation

Once the `LPBF_small/constant/location` file exists, the LPBF simulation can be
 run by executing the `Allrun` script in the main `LPBF_small` directory:
The characteristics of the particles in the powder bed are defined in the file:

```bash
./Allrun
```

This `Allrun` script performs five tasks:

- Copies the `initial` directory to `0`
- Creates the mesh by running `blockMesh`
- Sets the initial metal volume fraction field using `setSolidFraction`, which
  reads the particle locations from `constant/location`
- Rotates the mesh using `transformPoints`
- Run the `laserbeamFoam` solver

---

## üìñ References

[1] G. Parivendhan, J. Paul, and A. J. King, ‚ÄúA numerical study of processing
parameters and their effect on the melt-track profile in Laser Powder Bed
Fusion processes,‚Äù *Additive Manufacturing*, vol. 67, p. 103482, Apr. 2023.
[https://doi.org/10.1016/j.addma.2023.103482](https://doi.org/10.1016/j.addma.2023.103482)

[2] C. Kloss, C. Goniva, A. Hager, S. Amberger, and S. Pirker, ‚ÄúModels,
algorithms and validation for opensource DEM and CFD‚ÄìDEM,‚Äù *Progress in
Computational Fluid Dynamics*, vol. 12, no. 2/3, pp. 140‚Äì152, 2012.
 [https://doi.org/10.1504/PCFD.2012.047457](https://doi.org/10.1504/PCFD.2012.047457)
